<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CHESS</title>
    
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script>
    <script src="//code.jquery.com/ui/1.12.1/jquery-ui.js"></script> 
    <script src="../static/scripts/game.js"></script>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="../static/styles/chessstyle.css">
</head>
<body onload="startTimer()">
    <div class="chess-container">
        <div class="first-part">
            <div class="opponent">
                <div class="avatar">
                    <img src="../static/images/download.png">    
                </div>
                <p>{{opponent}}</p>   
            </div>
            <div class="game">
                <div id="whotomove"></div>
                <div class="wrapper">
                    {% for square in squares %}
                    {% if square[0] == 'a1' %}
                    <div id="{{square[0]}}" class="{{square[1]}} box"><img ondragstart="dragStart(event)" id="wR1" src="../static/images/wikipedia/wR.png" draggable="true"></div>
                    {% elif square[0] == 'b1' %}
                    <div id="{{square[0]}}" class="{{square[1]}} box"><img ondragstart="dragStart(event)" id="wN1" src="../static/images/wikipedia/wN.png" draggable="true"></div>
                    {% elif square[0] == 'c1' %}
                    <div id="{{square[0]}}" class="{{square[1]}} box"><img ondragstart="dragStart(event)" id="wB1" src="../static/images/wikipedia/wB.png" draggable="true"></div>
                    {% elif square[0] == 'd1' %}
                    <div id="{{square[0]}}" class="{{square[1]}} box"><img ondragstart="dragStart(event)" id="wQ" src="../static/images/wikipedia/wQ.png" draggable="true"></div>
                    {% elif square[0] == 'e1' %}
                    <div id="{{square[0]}}" class="{{square[1]}} box"><img ondragstart="dragStart(event)" id="wK" src="../static/images/wikipedia/wK.png" draggable="true"></div>
                    {% elif square[0] == 'f1' %}
                    <div id="{{square[0]}}" class="{{square[1]}} box"><img ondragstart="dragStart(event)" id="wB2" src="../static/images/wikipedia/wB.png" draggable="true"></div>
                    {% elif square[0] == 'g1' %}
                    <div id="{{square[0]}}" class="{{square[1]}} box"><img ondragstart="dragStart(event)" id="wN2" src="../static/images/wikipedia/wN.png" draggable="true"></div>
                    {% elif square[0] == 'h1' %}
                    <div id="{{square[0]}}" class="{{square[1]}} box"><img ondragstart="dragStart(event)" id="wR2" src="../static/images/wikipedia/wR.png" draggable="true"></div>
                    {% elif square[0] == 'a8' %}
                    <div id="{{square[0]}}" class="{{square[1]}} box"><img ondragstart="dragStart(event)" id="bR1" src="../static/images/wikipedia/bR.png" draggable="true"></div>
                    {% elif square[0] == 'b8' %}
                    <div id="{{square[0]}}" class="{{square[1]}} box"><img ondragstart="dragStart(event)" id="bN1" src="../static/images/wikipedia/bN.png" draggable="true"></div>
                    {% elif square[0] == 'c8' %}
                    <div id="{{square[0]}}" class="{{square[1]}} box"><img ondragstart="dragStart(event)" id="bB1" src="../static/images/wikipedia/bB.png" draggable="true"></div>
                    {% elif square[0] == 'd8' %}
                    <div id="{{square[0]}}" class="{{square[1]}} box"><img ondragstart="dragStart(event)" id="bQ" src="../static/images/wikipedia/bQ.png" draggable="true"></div>
                    {% elif square[0] == 'e8' %}
                    <div id="{{square[0]}}" class="{{square[1]}} box"><img ondragstart="dragStart(event)" id="bK" src="../static/images/wikipedia/bK.png" draggable="true"></div>
                    {% elif square[0] == 'f8' %}
                    <div id="{{square[0]}}" class="{{square[1]}} box"><img ondragstart="dragStart(event)" id="bB2" src="../static/images/wikipedia/bB.png" draggable="true"></div>
                    {% elif square[0] == 'g8' %}
                    <div id="{{square[0]}}" class="{{square[1]}} box"><img ondragstart="dragStart(event)" id="bN2" src="../static/images/wikipedia/bN.png" draggable="true"></div>
                    {% elif square[0] == 'h8' %}
                    <div id="{{square[0]}}" class="{{square[1]}} box"><img ondragstart="dragStart(event)" id="bR2" src="../static/images/wikipedia/bR.png" draggable="true"></div>
                    {% elif square[0] in pwhite %}
                    <div id="{{square[0]}}" class="{{square[1]}} box"><img ondragstart="dragStart(event)" id="{{loop.cycle('wp1', 'wp2', 'wp3', 'wp4', 'wp5', 'wp6', 'wp7', 'wp8')}}" src="../static/images/wikipedia/wP.png" draggable="true"></div>
                    {% elif square[0] in pblack %}
                    <div id="{{square[0]}}" class="{{square[1]}} box"><img ondragstart="dragStart(event)" id="{{loop.cycle('bp1', 'bp2', 'bp3', 'bp4', 'bp5', 'bp6', 'bp7', 'bp8')}}" src="../static/images/wikipedia/bP.png" draggable="true"></div>
                    {% else %}
                    <div id="{{square[0]}}" class="{{square[1]}} box"></div>
                    {%endif%}
                    {% endfor %}
                </div>
            </div>
            
            
            <div class="player">
                <div class="avatar">
                    <img src="../static/images/download.png">
                </div>
                <p>you</p>
            </div>
        </div>
        
        <div class="second-part">
            <h1 class="clock">00:00:00</h1>
            <div class="san-move">
            </div>
            <div>
                <!-- <div class="chess-button">
                    <button type="button" id="reset">reset</button>
                    <button type="button" id="undo">undo</button>
                    <button type="button" id="pause">pause</button>
                    <button type="button" id="play" disabled="true">play</button>
                </div> -->
                <div class="btn-group" role="group" aria-label="Basic outlined example">
                    <button type="button" class="btn btn-outline-primary" id="reset">reset</button>
                    <button type="button" class="btn btn-outline-primary" id="undo">undo</button>
                    <button type="button" class="btn btn-outline-primary" id="pause">pause</button>
                    <button type="button" class="btn btn-outline-primary" id="play" disabled="true">play</button>
                </div>
            </div>
        </div>
    </div>
    <div class="check-mate">
        <div class="mate-message">
            <h1>CHECKMATE!!!!</h1>
            <h4>you still want to play?</h4>
            <button type="button" class="btn btn-outline-primary" onclick="window.location.href='http://127.0.0.1:5000/chess';">replay</button>
        </div>
    </div>
</body>
</html>

